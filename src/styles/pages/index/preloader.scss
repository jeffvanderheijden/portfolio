@mixin animation($animate...) {
    $max: length($animate);
    $animations: '';

    @for $i from 1 through $max {
        $animations: #{$animations + nth($animate, $i)};

        @if $i < $max {
            $animations: #{$animations + ", "};
        }
    }

    -webkit-animation: $animations;
    -moz-animation: $animations;
    -o-animation: $animations;
    animation: $animations;
}

@mixin transition($args...) {
    -webkit-transition: $args;
    -moz-transition: $args;
    -ms-transition: $args;
    -o-transition: $args;
    transition: $args;
}

@mixin keyframes($animationName) {
    @-webkit-keyframes #{$animationName} {
        @content;
    }

    @-moz-keyframes #{$animationName} {
        @content;
    }

    @-o-keyframes #{$animationName} {
        @content;
    }

    @keyframes #{$animationName} {
        @content;
    }
}

//theme
$yellow: #f5d300;
$black: #292929;
$bg: #191919;
$lines: #757474;

body {
    background-color: $bg;
    font-family: 'Open Sans', sans-serif;
}

.splash {
    width: 100vw;
    height: 100vh;
    position: fixed;
    top: 0;
    display: grid;
    overflow: hidden;

    &_logo {
        position: absolute;
        z-index: 5;
        align-self: center;
        justify-self: center;
        color: #ffffff;
        opacity: 1;
        will-change: opacity;
        @include animation('logo .3s ease-in 1.5s forwards, off .6s ease-in-out 3.2s forwards');

        h1 {
            font-size: 26px;
            line-height: 26px;
            font-weight: 600;
        }

        &:before {
            display: block;
            position: absolute;
            left: 20px;
            bottom: -4px;
            width: 20px;
            height: 1px;
            background-color: $lines;
            content: "";
        }

        &:after {
            display: block;
            position: absolute;
            left: 20px;
            top: -6px;
            width: 20px;
            height: 1px;
            background-color: $lines;
            content: "";
            will-change: width;
        }
    }

    &_svg {
        position: relative;
        margin: auto;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        bottom: 0;
        right: 0;

        svg {
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: visible; 
            backface-visibility: visible;

            rect {
                width: 100%;
                height: 100%;
                fill: $yellow;
                stroke: 0;
                -webkit-clip-path: polygon(45vw 40vh, 55vw 40vh, 55vw 60vh, 45vw 60vh);
                clip-path: polygon(45vw 40vh, 55vw 40vh, 55vw 60vh, 45vw 60vh);
                @include animation('expand .7s ease-in forwards 2.7s');
            }
        }
    }

    &_minimize {
        position: absolute;
        margin: auto;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        z-index: 4;

        svg {
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: visible;
            backface-visibility: visible;

            rect {
                width: 100%;
                height: 100%;
                -webkit-clip-path: polygon(0vw 0vh, 100vw 0vh, 100vw 100vh, 0vw 100vh);
                clip-path: polygon(0vw 0vh, 100vw 0vh, 100vw 100vh, 0vw 100vh);
                @include animation('scale .2s ease-out forwards 1s, hide 1.3s ease-out forwards 1.2s');
            }
        }
    }
}

.soon {
    font-size: 60px;
    color: #000;
    position: absolute;
    text-align: center;
    z-index: 6;
    align-self: center;
    justify-self: center;
    opacity: 0;
    @include animation('on .4s ease-out forwards 4s');
}

@include keyframes(scale) {
    100% {
        -webkit-clip-path: polygon(45vw 40vh, 55vw 40vh, 55vw 60vh, 45vw 60vh);
        clip-path: polygon(45vw 40vh, 55vw 40vh, 55vw 60vh, 45vw 60vh);
    }
}

@include keyframes(hide) {
    100% {
        fill: transparent;
    }
}

@include keyframes (off) {
    100% {
        opacity: 0;
    }
}

@include keyframes (on) {
    100% {
        opacity: 1;
    }
}

@include keyframes (logo) {
    100% {
        color: $black;
    }
}

@include keyframes(expand) {
    0% {}

    25% {
        -webkit-clip-path: polygon(0vw 0vh,50px 50px, 55vw 58vh, 45vw 58vh);
        clip-path: polygon(0vw 0vh, 55vw 40vh, 55vw 60vh, 45vw 60vh);
        fill: white;
    }

    50% {
        -webkit-clip-path: polygon(0vw 0vh, 100vw 0vh, 55vw 60vh, 45vw 60vh);
        clip-path: polygon(0vw 0vh, 100vw 0vh, 55vw 60vh, 45vw 60vh);
        fill: $yellow;
    }

    75% {
        -webkit-clip-path: polygon(0vw 0vh, 100vw 0vh, 55vw 60vh, 0vw 100vh);
        clip-path: polygon(0vw 0vh, 100vw 0vh, 55vw 60vh, 0vw 100vh);
        fill: white;
    }

    100% {
        -webkit-clip-path: polygon(0vw 0vh, 100vw 0vh, 100vw 100vh, 0vw 100vh);
        clip-path: polygon(0vw 0vh, 100vw 0vh, 100vw 100vh, 0vw 100vh);
        fill: $yellow;
    }
}